
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/migration/use_v2.0.x_cc.Toggle_event');
require('./assets/sprite/build');
require('./assets/sprite/rect');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.0.x_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd149fmkRdtINpsf4RJ6lEpZ', 'use_v2.0.x_cc.Toggle_event');
// migration/use_v2.0.x_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only compatible with projects prior to v2.1.0.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 之前版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */
if (cc.Toggle) {
  // Whether the 'toggle' and 'checkEvents' events are fired when 'toggle.check() / toggle.uncheck()' is called in the code
  // 在代码中调用 'toggle.check() / toggle.uncheck()' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_check = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9taWdyYXRpb24vdXNlX3YyLjAueF9jYy5Ub2dnbGVfZXZlbnQuanMiXSwibmFtZXMiOlsiY2MiLCJUb2dnbGUiLCJfdHJpZ2dlckV2ZW50SW5TY3JpcHRfY2hlY2siXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7O0FBWUEsSUFBSUEsRUFBRSxDQUFDQyxNQUFQLEVBQWU7QUFDWDtBQUNBO0FBQ0FELEVBQUFBLEVBQUUsQ0FBQ0MsTUFBSCxDQUFVQywyQkFBVixHQUF3QyxJQUF4QztBQUNIIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBUaGlzIHNjcmlwdCBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBDb2NvcyBDcmVhdG9yIGFuZCBpcyBvbmx5IGNvbXBhdGlibGUgd2l0aCBwcm9qZWN0cyBwcmlvciB0byB2Mi4xLjAuXHJcbiAqIFlvdSBkbyBub3QgbmVlZCB0byBtYW51YWxseSBhZGQgdGhpcyBzY3JpcHQgaW4gYW55IG90aGVyIHByb2plY3QuXHJcbiAqIElmIHlvdSBkb24ndCB1c2UgY2MuVG9nZ2xlIGluIHlvdXIgcHJvamVjdCwgeW91IGNhbiBkZWxldGUgdGhpcyBzY3JpcHQgZGlyZWN0bHkuXHJcbiAqIElmIHlvdXIgcHJvamVjdCBpcyBob3N0ZWQgaW4gVkNTIHN1Y2ggYXMgZ2l0LCBzdWJtaXQgdGhpcyBzY3JpcHQgdG9nZXRoZXIuXHJcbiAqXHJcbiAqIOatpOiEmuacrOeUsSBDb2NvcyBDcmVhdG9yIOiHquWKqOeUn+aIkO+8jOS7heeUqOS6juWFvOWuuSB2Mi4xLjAg5LmL5YmN54mI5pys55qE5bel56iL77yMXHJcbiAqIOS9oOaXoOmcgOWcqOS7u+S9leWFtuWug+mhueebruS4reaJi+WKqOa3u+WKoOatpOiEmuacrOOAglxyXG4gKiDlpoLmnpzkvaDnmoTpobnnm67kuK3msqHnlKjliLAgVG9nZ2xl77yM5Y+v55u05o6l5Yig6Zmk6K+l6ISa5pys44CCXHJcbiAqIOWmguaenOS9oOeahOmhueebruacieaJmOeuoeS6jiBnaXQg562J54mI5pys5bqT77yM6K+35bCG5q2k6ISa5pys5LiA5bm25LiK5Lyg44CCXHJcbiAqL1xyXG5cclxuaWYgKGNjLlRvZ2dsZSkge1xyXG4gICAgLy8gV2hldGhlciB0aGUgJ3RvZ2dsZScgYW5kICdjaGVja0V2ZW50cycgZXZlbnRzIGFyZSBmaXJlZCB3aGVuICd0b2dnbGUuY2hlY2soKSAvIHRvZ2dsZS51bmNoZWNrKCknIGlzIGNhbGxlZCBpbiB0aGUgY29kZVxyXG4gICAgLy8g5Zyo5Luj56CB5Lit6LCD55SoICd0b2dnbGUuY2hlY2soKSAvIHRvZ2dsZS51bmNoZWNrKCknIOaXtuaYr+WQpuinpuWPkSAndG9nZ2xlJyDkuI4gJ2NoZWNrRXZlbnRzJyDkuovku7ZcclxuICAgIGNjLlRvZ2dsZS5fdHJpZ2dlckV2ZW50SW5TY3JpcHRfY2hlY2sgPSB0cnVlO1xyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/sprite/rect.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '20127cQSZ9N0bB8afm8IEjY', 'rect');
// sprite/rect.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {},
  // onLoad () {},
  start: function start() {
    var manager = cc.director.getCollisionManager();
    manager.enabled = true; //开启碰撞检测

    manager.enabledDebugDraw = true; //显示碰撞检测区域

    this._game = cc.find("/Canvas/box").getComponent("build");
  },
  onBeginContact: function onBeginContact(contact, selfCollider, otherCollider) {
    console.log("onBeginContact");
  },
  onCollisionEnter: function onCollisionEnter(other, self) {
    //console.log("碰撞2  =" + this.node.x + " x=" + other.node.x);
    if (Math.abs(this.node.x - other.node.x) == 48 && Math.abs(this.node.y - other.node.y) == 0) {
      this._game.gameOver();
    } else if (Math.abs(this.node.x - other.node.x) == 0 && Math.abs(this.node.y - other.node.y) == 48) {
      this._game.gameOver();
    }
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcHJpdGUvcmVjdC5qcyJdLCJuYW1lcyI6WyJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsInN0YXJ0IiwibWFuYWdlciIsImRpcmVjdG9yIiwiZ2V0Q29sbGlzaW9uTWFuYWdlciIsImVuYWJsZWQiLCJlbmFibGVkRGVidWdEcmF3IiwiX2dhbWUiLCJmaW5kIiwiZ2V0Q29tcG9uZW50Iiwib25CZWdpbkNvbnRhY3QiLCJjb250YWN0Iiwic2VsZkNvbGxpZGVyIiwib3RoZXJDb2xsaWRlciIsImNvbnNvbGUiLCJsb2ciLCJvbkNvbGxpc2lvbkVudGVyIiwib3RoZXIiLCJzZWxmIiwiTWF0aCIsImFicyIsIm5vZGUiLCJ4IiwieSIsImdhbWVPdmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUUsRUFIUDtBQU9MO0FBRUFDLEVBQUFBLEtBVEssbUJBU0k7QUFDTCxRQUFJQyxPQUFPLEdBQUdMLEVBQUUsQ0FBQ00sUUFBSCxDQUFZQyxtQkFBWixFQUFkO0FBQ0FGLElBQUFBLE9BQU8sQ0FBQ0csT0FBUixHQUFrQixJQUFsQixDQUZLLENBRXVCOztBQUM1QkgsSUFBQUEsT0FBTyxDQUFDSSxnQkFBUixHQUEyQixJQUEzQixDQUhLLENBRzhCOztBQUVuQyxTQUFLQyxLQUFMLEdBQWFWLEVBQUUsQ0FBQ1csSUFBSCxDQUFRLGFBQVIsRUFBdUJDLFlBQXZCLENBQW9DLE9BQXBDLENBQWI7QUFDSCxHQWZJO0FBaUJMQyxFQUFBQSxjQWpCSywwQkFpQlVDLE9BakJWLEVBaUJtQkMsWUFqQm5CLEVBaUJpQ0MsYUFqQmpDLEVBaUIrQztBQUNoREMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVo7QUFDSCxHQW5CSTtBQXFCTEMsRUFBQUEsZ0JBckJLLDRCQXFCWUMsS0FyQlosRUFxQm1CQyxJQXJCbkIsRUFxQnlCO0FBQzFCO0FBRUEsUUFBR0MsSUFBSSxDQUFDQyxHQUFMLENBQVMsS0FBS0MsSUFBTCxDQUFVQyxDQUFWLEdBQWNMLEtBQUssQ0FBQ0ksSUFBTixDQUFXQyxDQUFsQyxLQUFzQyxFQUF0QyxJQUE0Q0gsSUFBSSxDQUFDQyxHQUFMLENBQVMsS0FBS0MsSUFBTCxDQUFVRSxDQUFWLEdBQWNOLEtBQUssQ0FBQ0ksSUFBTixDQUFXRSxDQUFsQyxLQUFzQyxDQUFyRixFQUF1RjtBQUNuRixXQUFLaEIsS0FBTCxDQUFXaUIsUUFBWDtBQUNILEtBRkQsTUFHSyxJQUFHTCxJQUFJLENBQUNDLEdBQUwsQ0FBUyxLQUFLQyxJQUFMLENBQVVDLENBQVYsR0FBY0wsS0FBSyxDQUFDSSxJQUFOLENBQVdDLENBQWxDLEtBQXNDLENBQXRDLElBQTJDSCxJQUFJLENBQUNDLEdBQUwsQ0FBUyxLQUFLQyxJQUFMLENBQVVFLENBQVYsR0FBY04sS0FBSyxDQUFDSSxJQUFOLENBQVdFLENBQWxDLEtBQXNDLEVBQXBGLEVBQXVGO0FBQ3hGLFdBQUtoQixLQUFMLENBQVdpQixRQUFYO0FBQ0g7QUFDSixHQTlCSSxDQWdDTDs7QUFoQ0ssQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICBcclxuICAgIH0sXHJcblxyXG4gICAgLy8gb25Mb2FkICgpIHt9LFxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBsZXQgbWFuYWdlciA9IGNjLmRpcmVjdG9yLmdldENvbGxpc2lvbk1hbmFnZXIoKTtcclxuICAgICAgICBtYW5hZ2VyLmVuYWJsZWQgPSB0cnVlOyAgICAgLy/lvIDlkK/norDmkp7mo4DmtYtcclxuICAgICAgICBtYW5hZ2VyLmVuYWJsZWREZWJ1Z0RyYXcgPSB0cnVlOyAgIC8v5pi+56S656Kw5pKe5qOA5rWL5Yy65Z+fXHJcblxyXG4gICAgICAgIHRoaXMuX2dhbWUgPSBjYy5maW5kKFwiL0NhbnZhcy9ib3hcIikuZ2V0Q29tcG9uZW50KFwiYnVpbGRcIik7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uQmVnaW5Db250YWN0KGNvbnRhY3QsIHNlbGZDb2xsaWRlciwgb3RoZXJDb2xsaWRlcil7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvbkJlZ2luQ29udGFjdFwiKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Db2xsaXNpb25FbnRlcihvdGhlciwgc2VsZikge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCLnorDmkp4yICA9XCIgKyB0aGlzLm5vZGUueCArIFwiIHg9XCIgKyBvdGhlci5ub2RlLngpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKE1hdGguYWJzKHRoaXMubm9kZS54IC0gb3RoZXIubm9kZS54KT09NDggJiYgTWF0aC5hYnModGhpcy5ub2RlLnkgLSBvdGhlci5ub2RlLnkpPT0wKXtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZS5nYW1lT3ZlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKE1hdGguYWJzKHRoaXMubm9kZS54IC0gb3RoZXIubm9kZS54KT09MCAmJiBNYXRoLmFicyh0aGlzLm5vZGUueSAtIG90aGVyLm5vZGUueSk9PTQ4KXtcclxuICAgICAgICAgICAgdGhpcy5fZ2FtZS5nYW1lT3ZlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge30sXHJcbn0pO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/sprite/build.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0d94fvvIxZFNogXnBYdjx/r', 'build');
// sprite/build.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    rect0: cc.Prefab,
    rect1: cc.Prefab,
    rect2: cc.Prefab,
    rect3: cc.Prefab,
    rect4: cc.Prefab,
    rect5: cc.Prefab,
    rect6: cc.Prefab,
    rect7: cc.Prefab,
    //播放预制资源
    player: cc.Prefab,
    basepoint: cc.Prefab,
    //按钮节点
    button: cc.Label,
    score: cc.Label,
    over: cc.Node,
    //速度调节滑动
    sliderv: cc.Slider,
    //音频
    audio: cc.AudioClip,
    subNodesArr: {
      "default": [],
      type: cc.Prefab
    }
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    cc.log("onload start");
    var collider = cc.director.getCollisionManager();
    collider.enabled = true; // collider.enabledDebugDraw = true;
    // collider.enabledDrawBoundingBox = true;
    //开启物理引擎

    var physics = cc.director.getPhysicsManager();
    physics.enabled = true; // physics.gravity.y = 1000;

    var db = cc.PhysicsManager.DrawBits;
    this.nodes = [];
    this.nodes = cc.find('Canvas/box').children; //游戏状态  0-暂停 1-运行 2-游戏结束 

    this.gameState = 1;
    cc.director.getCollisionManager().enabled = true;
    cc.director.getPhysicsManager().enabled = true; //音效
    //cc.audioEngine.playEffect(this.audio, true);
    //分数

    this.scoreNum = 0; //边界值

    this.leftX;
    this.rightX; //速度

    this.speed = 0.5; //方向,up-0,down-1,left-2,right-3

    this.direction = 0; //贪吃蛇数组,二位数组

    this.snakeArrX = [];
    this.snakeArrY = [];
    this.snakeArr = []; //地图上随机生成果实(x,y)坐标

    this.nextGoal = Math.floor(7 * Math.random());
    this.goalX = Math.floor(10 * Math.random());
    this.goalY = Math.floor(15 * Math.random()); //设置贪吃蛇头部

    this.snakeHead = cc.instantiate(this.rect7).getComponent('rect');
    this.snakeHead.node.x = 240;
    this.snakeHead.node.y = 336;
    this.snakeHead.node.Group = 'hero';
    var box = cc.find('Canvas/box');
    box.addChild(this.snakeHead.node);
    this.snakeArrX[0] = this.snakeHead.node.x;
    this.snakeArrY[0] = this.snakeHead.node.y;
    this.snakeArr[0] = this.snakeHead; //地图

    this.boxMap = [];

    for (var i = 0; i < 10; i++) {
      this.boxMap[i] = [];

      for (var j = 0; j < 15; j++) {
        this.boxMap[i][j] = 0;
      }
    } //注册按下监听


    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this); //this.ontouchmove();

    this.setGame();
    this.node.on(cc.Node.EventType.TOUCH_START, function (event) {
      var location = event.getLocation(); // 获取节点坐标

      this.firstX = location.x;
      this.firstY = location.y; // 获取触点在空间节点上的坐标
      // var tempPlayer = node.parent.convertToNodeSpaceAR(location);
      // node.setPosition(tempPlayer);
    }, this);
    this.node.on(cc.Node.EventType.TOUCH_END, function (event) {
      var touchPoint = event.getLocation();
      var endX = this.firstX - touchPoint.x;
      var endY = this.firstY - touchPoint.y; // var tempPlayer = node.parent.convertToNodeSpaceAR(touchPoint);
      // node.setPosition(tempPlayer);

      if (Math.abs(endX) > Math.abs(endY)) {
        //手势向左右
        //判断向左还是向右 
        if (endX > 0) {
          //向左函数
          cc.log('left');

          if (this.direction != 3) {
            this.direction = 2;
          }
        } else {
          //向右函数
          cc.log('right');

          if (this.direction != 2) {
            this.direction = 3;
          }
        }
      } else {
        //手势向上下
        //判断手势向上还是向下
        if (endY > 0) {
          //向下函数
          cc.log('down');

          if (this.direction != 0) {
            this.direction = 1;
          }
        } else {
          //向上函数
          cc.log('up');

          if (this.direction != 1) {
            this.direction = 0;
          }
        }
      }
    }, this);
  },
  //
  setGame: function setGame() {
    cc.log("setGame start"); //下个果实方块

    var goal = this.nextGoal;
    this.buildBody(goal);
    cc.log("setGame end");
  },
  onBeginContact: function onBeginContact(contact, selfCollider, otherCollider) {
    console.log("onBeginContact");
  },
  //获取颜色后实例化6种图像,还有一个种作为head
  buildBody: function buildBody(goal) {
    cc.log("goal:" + goal);
    this.produceFoot(); //移动

    this.schedule(this.move, this.speed);
    cc.log("goal2:" + goal);
  },
  //检测果实生成位置是否重叠贪吃蛇
  overlapFoot: function overlapFoot() {
    this.goalX = Math.floor(10 * Math.random());
    this.goalY = Math.floor(15 * Math.random()); //判断贪吃蛇所有部位是否重叠

    for (var j = 0; j < this.snakeArrX.length; j++) {
      if (this.boxMap[this.goalX][this.goalY] === 1) {
        //重新生成，并且重新检测
        this.overlapFoot();
        break;
      }
    }

    this.produceFoot();
  },
  //生成果实
  produceFoot: function produceFoot() {
    this.nextGoal = Math.floor(7 * Math.random()); //随机生成某种颜色

    if (this.nextGoal === 0) {
      this.prefab = this.rect0;
    }

    if (this.nextGoal === 1) {
      this.prefab = this.rect1;
    }

    if (this.nextGoal === 2) {
      this.prefab = this.rect2;
    }

    if (this.nextGoal === 3) {
      this.prefab = this.rect3;
    }

    if (this.nextGoal === 4) {
      this.prefab = this.rect4;
    }

    if (this.nextGoal === 5) {
      this.prefab = this.rect5;
    }

    if (this.nextGoal === 6) {
      this.prefab = this.rect6;
    } //贪吃蛇身体


    this.snakeBody = cc.instantiate(this.prefab).getComponent('rect');
    var box = cc.find('Canvas/box');
    box.addChild(this.snakeBody.node);
    this.snakeBody.node.x = this.goalX * 48;
    this.snakeBody.node.y = this.goalY * 48; //记录地图这里已经有果实

    var boxMapX = this.snakeBody.node.x / 48;
    var boxMapY = this.snakeBody.node.y / 48;
    this.boxMap[boxMapX][boxMapY] = 1;
  },
  //吃到果实
  eatFoot: function eatFoot() {
    var boxMapX = this.snakeHead.node.x / 48;
    var boxMapY = this.snakeHead.node.y / 48; //判断是否位置是否有果实

    if (this.boxMap[boxMapX][boxMapY] === 1) {
      //cc.log("位置有果实");
      //加在尾部
      var len = this.snakeArrX.length;
      this.snakeArrX[len] = this.snakeBody.node.x;
      this.snakeArrY[len] = this.snakeBody.node.y;
      this.snakeArr[len] = this.snakeBody; //果实被吃了 

      this.boxMap[boxMapX][boxMapY] = 0; //加分数

      this.addScore(); //随机生成下一个果实

      this.overlapFoot();
    }
  },
  //加分数
  addScore: function addScore() {
    //根据不同果实增加分数
    if (this.nextGoal === 0) {
      this.scoreNum += 50;
    }

    if (this.nextGoal === 1) {
      this.scoreNum += 100;
    }

    if (this.nextGoal === 2) {
      this.scoreNum += 200;
    }

    if (this.nextGoal === 3) {
      this.scoreNum += 300;
    }

    if (this.nextGoal === 4) {
      this.scoreNum += 400;
    }

    if (this.nextGoal === 5) {
      this.scoreNum += 500;
    }

    if (this.nextGoal === 6) {
      this.scoreNum += 600;
    }

    this.score.string = this.scoreNum;
  },
  //移动方法
  move: function move() {
    //方向,up-0,down-1,left-2,right-3
    if (this.direction === 0) {
      //移动前，判断游戏是否结束
      this.isGameOver(this.snakeHead.node.x, this.snakeHead.node.y + 48);

      if (this.gameState === 1) {
        this.snakeHead.node.y += 48;
      } //cc.log("up");

    } else if (this.direction === 1) {
      //移动前，判断游戏是否结束
      this.isGameOver(this.snakeHead.node.x, this.snakeHead.node.y - 48);

      if (this.gameState === 1) {
        this.snakeHead.node.y -= 48;
      } // cc.log("down");

    } else if (this.direction === 2) {
      this.isGameOver(this.snakeHead.node.x - 48, this.snakeHead.node.y);

      if (this.gameState === 1) {
        this.snakeHead.node.x -= 48;
      } //cc.log("left");

    } else if (this.direction === 3) {
      //移动前，判断游戏是否结束
      this.isGameOver(this.snakeHead.node.x + 48, this.snakeHead.node.y);

      if (this.gameState === 1) {
        this.snakeHead.node.x += 48;
      } //cc.log("right");

    }

    if (this.gameState === 1) {
      this.eatFoot();
      this.moveAll();
    }
  },
  //移动的时候，身体也向头移动
  moveAll: function moveAll() {
    for (var i = this.snakeArrX.length - 1; i > 0; i--) {
      this.snakeArrX[i] = this.snakeArrX[i - 1];
      this.snakeArrY[i] = this.snakeArrY[i - 1];
    } //更新贪吃蛇头部位置,贪吃蛇随头部移动


    this.snakeArrX[0] = this.snakeHead.node.x;
    this.snakeArrY[0] = this.snakeHead.node.y;

    for (var j = 1; j < this.snakeArrX.length; j++) {
      this.snakeArr[j].node.x = this.snakeArrX[j];
      this.snakeArr[j].node.y = this.snakeArrY[j];
    } //cc.log("moveAll"+this.snakeArrX.length);

  },
  onCollisionEnter: function onCollisionEnter(other, self) {
    console.log("碰撞  =" + other);
  },
  //键盘监听
  onKeyDown: function onKeyDown(event) {
    switch (event.keyCode) {
      case cc.macro.KEY.a:
      case cc.macro.KEY.left:
        // cc.log("key code is  a and left");
        if (this.direction != 3) {
          this.direction = 2;
        }

        break;

      case cc.macro.KEY.d:
      case cc.macro.KEY.right:
        // cc.log("key code is  d and right");
        if (this.direction != 2) {
          this.direction = 3;
        }

        break;

      case cc.macro.KEY.w:
      case cc.macro.KEY.up:
        // cc.log("key code is  w and up");
        if (this.direction != 1) {
          this.direction = 0;
        }

        break;

      case cc.macro.KEY.s:
      case cc.macro.KEY.down:
        // cc.log("key code is  s and down");
        if (this.direction != 0) {
          this.direction = 1;
        }

        break;
    }
  },
  //判断游戏结束的条件
  isGameOver: function isGameOver(x, y) {
    //判断是否超出地图
    if (x < 0 || x >= 480 || y < 0 || y >= 720) {
      this.gameOver();
      return;
    } //判断是否碰撞到贪吃蛇身体


    for (var i = 0; i < this.snakeArrX.length; i++) {
      if (this.snakeArrX[i] == x && this.snakeArrY[i] == y) {
        this.gameOver();
        return;
      }
    }
  },
  //游戏结束
  gameOver: function gameOver() {
    cc.log("结束"); //游戏状态

    this.gameState = 2; //将失败的画面显示出来

    this.over.active = true; //停止移动

    this.unschedule(this.move); //停止所有音乐

    cc.audioEngine.stopAll();
  },
  //暂停游戏
  pause: function pause() {
    //2表示游戏结束
    if (this.gameState !== 2) {
      if (this.gameState === 1) {
        this.gameState = 0;
        this.button.string = "Play"; //停止移动

        this.unschedule(this.move);
      } else if (this.gameState === 0) {
        this.gameState = 1;
        this.button.string = "Pause"; //停止移动

        this.schedule(this.move, this.speed);
      }
    }
  },
  //重新开始游戏
  replay: function replay() {
    //重新加载游戏场景
    cc.director.loadScene("snaker");
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zcHJpdGUvYnVpbGQuanMiXSwibmFtZXMiOlsiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJyZWN0MCIsIlByZWZhYiIsInJlY3QxIiwicmVjdDIiLCJyZWN0MyIsInJlY3Q0IiwicmVjdDUiLCJyZWN0NiIsInJlY3Q3IiwicGxheWVyIiwiYmFzZXBvaW50IiwiYnV0dG9uIiwiTGFiZWwiLCJzY29yZSIsIm92ZXIiLCJOb2RlIiwic2xpZGVydiIsIlNsaWRlciIsImF1ZGlvIiwiQXVkaW9DbGlwIiwic3ViTm9kZXNBcnIiLCJ0eXBlIiwib25Mb2FkIiwibG9nIiwiY29sbGlkZXIiLCJkaXJlY3RvciIsImdldENvbGxpc2lvbk1hbmFnZXIiLCJlbmFibGVkIiwicGh5c2ljcyIsImdldFBoeXNpY3NNYW5hZ2VyIiwiZGIiLCJQaHlzaWNzTWFuYWdlciIsIkRyYXdCaXRzIiwibm9kZXMiLCJmaW5kIiwiY2hpbGRyZW4iLCJnYW1lU3RhdGUiLCJzY29yZU51bSIsImxlZnRYIiwicmlnaHRYIiwic3BlZWQiLCJkaXJlY3Rpb24iLCJzbmFrZUFyclgiLCJzbmFrZUFyclkiLCJzbmFrZUFyciIsIm5leHRHb2FsIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZ29hbFgiLCJnb2FsWSIsInNuYWtlSGVhZCIsImluc3RhbnRpYXRlIiwiZ2V0Q29tcG9uZW50Iiwibm9kZSIsIngiLCJ5IiwiR3JvdXAiLCJib3giLCJhZGRDaGlsZCIsImJveE1hcCIsImkiLCJqIiwic3lzdGVtRXZlbnQiLCJvbiIsIlN5c3RlbUV2ZW50IiwiRXZlbnRUeXBlIiwiS0VZX0RPV04iLCJvbktleURvd24iLCJzZXRHYW1lIiwiVE9VQ0hfU1RBUlQiLCJldmVudCIsImxvY2F0aW9uIiwiZ2V0TG9jYXRpb24iLCJmaXJzdFgiLCJmaXJzdFkiLCJUT1VDSF9FTkQiLCJ0b3VjaFBvaW50IiwiZW5kWCIsImVuZFkiLCJhYnMiLCJnb2FsIiwiYnVpbGRCb2R5Iiwib25CZWdpbkNvbnRhY3QiLCJjb250YWN0Iiwic2VsZkNvbGxpZGVyIiwib3RoZXJDb2xsaWRlciIsImNvbnNvbGUiLCJwcm9kdWNlRm9vdCIsInNjaGVkdWxlIiwibW92ZSIsIm92ZXJsYXBGb290IiwibGVuZ3RoIiwicHJlZmFiIiwic25ha2VCb2R5IiwiYm94TWFwWCIsImJveE1hcFkiLCJlYXRGb290IiwibGVuIiwiYWRkU2NvcmUiLCJzdHJpbmciLCJpc0dhbWVPdmVyIiwibW92ZUFsbCIsIm9uQ29sbGlzaW9uRW50ZXIiLCJvdGhlciIsInNlbGYiLCJrZXlDb2RlIiwibWFjcm8iLCJLRVkiLCJhIiwibGVmdCIsImQiLCJyaWdodCIsInciLCJ1cCIsInMiLCJkb3duIiwiZ2FtZU92ZXIiLCJhY3RpdmUiLCJ1bnNjaGVkdWxlIiwiYXVkaW9FbmdpbmUiLCJzdG9wQWxsIiwicGF1c2UiLCJyZXBsYXkiLCJsb2FkU2NlbmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxLQUFLLEVBQUNKLEVBQUUsQ0FBQ0ssTUFERDtBQUVSQyxJQUFBQSxLQUFLLEVBQUNOLEVBQUUsQ0FBQ0ssTUFGRDtBQUdSRSxJQUFBQSxLQUFLLEVBQUNQLEVBQUUsQ0FBQ0ssTUFIRDtBQUlSRyxJQUFBQSxLQUFLLEVBQUNSLEVBQUUsQ0FBQ0ssTUFKRDtBQUtSSSxJQUFBQSxLQUFLLEVBQUNULEVBQUUsQ0FBQ0ssTUFMRDtBQU1SSyxJQUFBQSxLQUFLLEVBQUNWLEVBQUUsQ0FBQ0ssTUFORDtBQU9STSxJQUFBQSxLQUFLLEVBQUNYLEVBQUUsQ0FBQ0ssTUFQRDtBQVFSTyxJQUFBQSxLQUFLLEVBQUNaLEVBQUUsQ0FBQ0ssTUFSRDtBQVNUO0FBQ0FRLElBQUFBLE1BQU0sRUFBQ2IsRUFBRSxDQUFDSyxNQVZEO0FBV1RTLElBQUFBLFNBQVMsRUFBQ2QsRUFBRSxD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LFNBQUtDLFVBQUwsQ0FBZ0IsS0FBSzdCLElBQXJCLEVBUEcsQ0FRSDs7QUFDQTlGLElBQUFBLEVBQUUsQ0FBQzRILFdBQUgsQ0FBZUMsT0FBZjtBQUVQLEdBeFdJO0FBeVdMO0FBQ0FDLEVBQUFBLEtBMVdLLG1CQTBXRTtBQUNIO0FBQ0EsUUFBRyxLQUFLdEYsU0FBTCxLQUFpQixDQUFwQixFQUFzQjtBQUNsQixVQUFHLEtBQUtBLFNBQUwsS0FBaUIsQ0FBcEIsRUFBc0I7QUFDbEIsYUFBS0EsU0FBTCxHQUFlLENBQWY7QUFDQSxhQUFLekIsTUFBTCxDQUFZeUYsTUFBWixHQUFxQixNQUFyQixDQUZrQixDQUdsQjs7QUFDQSxhQUFLbUIsVUFBTCxDQUFnQixLQUFLN0IsSUFBckI7QUFDSCxPQUxELE1BS00sSUFBRyxLQUFLdEQsU0FBTCxLQUFpQixDQUFwQixFQUFzQjtBQUN4QixhQUFLQSxTQUFMLEdBQWUsQ0FBZjtBQUNBLGFBQUt6QixNQUFMLENBQVl5RixNQUFaLEdBQXFCLE9BQXJCLENBRndCLENBR3hCOztBQUNBLGFBQUtYLFFBQUwsQ0FBYyxLQUFLQyxJQUFuQixFQUF3QixLQUFLbEQsS0FBN0I7QUFDSDtBQUNKO0FBQ0osR0F6WEk7QUEwWEw7QUFDQW1GLEVBQUFBLE1BM1hLLG9CQTJYRztBQUNIO0FBQ0QvSCxJQUFBQSxFQUFFLENBQUM2QixRQUFILENBQVltRyxTQUFaLENBQXNCLFFBQXRCO0FBQ0g7QUE5WEksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICByZWN0MDpjYy5QcmVmYWIsXHJcbiAgICAgICAgcmVjdDE6Y2MuUHJlZmFiLFxyXG4gICAgICAgIHJlY3QyOmNjLlByZWZhYixcclxuICAgICAgICByZWN0MzpjYy5QcmVmYWIsXHJcbiAgICAgICAgcmVjdDQ6Y2MuUHJlZmFiLFxyXG4gICAgICAgIHJlY3Q1OmNjLlByZWZhYixcclxuICAgICAgICByZWN0NjpjYy5QcmVmYWIsXHJcbiAgICAgICAgcmVjdDc6Y2MuUHJlZmFiLFxyXG4gICAgICAgLy/mkq3mlL7pooTliLbotYTmupBcclxuICAgICAgIHBsYXllcjpjYy5QcmVmYWIsXHJcbiAgICAgICBiYXNlcG9pbnQ6Y2MuUHJlZmFiLFxyXG4gICAgICAgLy/mjInpkq7oioLngrlcclxuICAgICAgIGJ1dHRvbjpjYy5MYWJlbCxcclxuICAgICAgIHNjb3JlOmNjLkxhYmVsLFxyXG4gICAgICAgb3ZlcjpjYy5Ob2RlLFxyXG4gICAgICAgLy/pgJ/luqbosIPoioLmu5HliqhcclxuICAgICAgIHNsaWRlcnY6Y2MuU2xpZGVyLFxyXG4gICAgICAgLy/pn7PpopFcclxuICAgICAgIGF1ZGlvOmNjLkF1ZGlvQ2xpcCxcclxuXHJcbiAgICAgICBzdWJOb2Rlc0Fycjp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6W10sXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuUHJlZmFiLFxyXG4gICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgY2MubG9nKFwib25sb2FkIHN0YXJ0XCIpO1xyXG5cclxuICAgICAgICB2YXIgY29sbGlkZXIgPSBjYy5kaXJlY3Rvci5nZXRDb2xsaXNpb25NYW5hZ2VyKCk7XHJcbiAgICAgICAgY29sbGlkZXIuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gY29sbGlkZXIuZW5hYmxlZERlYnVnRHJhdyA9IHRydWU7XHJcbiAgICAgICAgLy8gY29sbGlkZXIuZW5hYmxlZERyYXdCb3VuZGluZ0JveCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8v5byA5ZCv54mp55CG5byV5pOOXHJcbiAgICAgICAgdmFyIHBoeXNpY3MgPSBjYy5kaXJlY3Rvci5nZXRQaHlzaWNzTWFuYWdlcigpO1xyXG4gICAgICAgIHBoeXNpY3MuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gcGh5c2ljcy5ncmF2aXR5LnkgPSAxMDAwO1xyXG4gICAgICAgIHZhciBkYiA9IGNjLlBoeXNpY3NNYW5hZ2VyLkRyYXdCaXRzO1xyXG5cclxuICAgICAgICB0aGlzLm5vZGVzID0gW107XHJcbiAgICAgICAgdGhpcy5ub2RlcyA9IGNjLmZpbmQoJ0NhbnZhcy9ib3gnKS5jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgLy/muLjmiI/nirbmgIEgIDAt5pqC5YGcIDEt6L+Q6KGMIDIt5ri45oiP57uT5p2fIFxyXG4gICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gMTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5nZXRDb2xsaXNpb25NYW5hZ2VyKCkuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IuZ2V0UGh5c2ljc01hbmFnZXIoKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAvL+mfs+aViFxyXG4gICAgICAgIC8vY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdCh0aGlzLmF1ZGlvLCB0cnVlKTtcclxuICAgICAgICAvL+WIhuaVsFxyXG4gICAgICAgIHRoaXMuc2NvcmVOdW09MDtcclxuICAgICAgICAvL+i+ueeVjOWAvFxyXG4gICAgICAgIHRoaXMubGVmdFg7XHJcbiAgICAgICAgdGhpcy5yaWdodFg7XHJcbiAgICAgICAgLy/pgJ/luqZcclxuICAgICAgICB0aGlzLnNwZWVkPTAuNTtcclxuICAgICAgICAvL+aWueWQkSx1cC0wLGRvd24tMSxsZWZ0LTIscmlnaHQtM1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gMDtcclxuICAgICAgICAvL+i0quWQg+ibh+aVsOe7hCzkuozkvY3mlbDnu4RcclxuICAgICAgICB0aGlzLnNuYWtlQXJyWD1bXTtcclxuICAgICAgICB0aGlzLnNuYWtlQXJyWT1bXTtcclxuICAgICAgICB0aGlzLnNuYWtlQXJyPVtdO1xyXG4gICAgICAgIC8v5Zyw5Zu+5LiK6ZqP5py655Sf5oiQ5p6c5a6eKHgseSnlnZDmoIdcclxuICAgICAgICB0aGlzLm5leHRHb2FsID0gTWF0aC5mbG9vcig3Kk1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHRoaXMuZ29hbFggPSBNYXRoLmZsb29yKDEwKk1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHRoaXMuZ29hbFkgPSBNYXRoLmZsb29yKDE1Kk1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIC8v6K6+572u6LSq5ZCD6JuH5aS06YOoXHJcbiAgICAgICAgIHRoaXMuc25ha2VIZWFkID0gY2MuaW5zdGFudGlhdGUodGhpcy5yZWN0NykuZ2V0Q29tcG9uZW50KCdyZWN0Jyk7XHJcbiAgICAgICAgIHRoaXMuc25ha2VIZWFkLm5vZGUueD0yNDA7XHJcbiAgICAgICAgIHRoaXMuc25ha2VIZWFkLm5vZGUueT0zMzY7XHJcbiAgICAgICAgIHRoaXMuc25ha2VIZWFkLm5vZGUuR3JvdXAgPSAnaGVybyc7XHJcblxyXG4gICAgICAgICB2YXIgYm94PWNjLmZpbmQoJ0NhbnZhcy9ib3gnKTtcclxuICAgICAgICAgYm94LmFkZENoaWxkKHRoaXMuc25ha2VIZWFkLm5vZGUpO1xyXG4gICAgICAgICB0aGlzLnNuYWtlQXJyWFswXT10aGlzLnNuYWtlSGVhZC5ub2RlLng7XHJcbiAgICAgICAgIHRoaXMuc25ha2VBcnJZWzBdPXRoaXMuc25ha2VIZWFkLm5vZGUueTtcclxuICAgICAgICAgdGhpcy5zbmFrZUFyclswXSA9IHRoaXMuc25ha2VIZWFkO1xyXG4gICAgICAgICAvL+WcsOWbvlxyXG4gICAgICAgICB0aGlzLmJveE1hcD1bXTtcclxuICAgICAgICAgZm9yKGxldCBpPTA7aTwxMDtpKyspe1xyXG4gICAgICAgICAgICB0aGlzLmJveE1hcFtpXT1bXTtcclxuICAgICAgICAgICAgZm9yKGxldCBqPTA7ajwxNTtqKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3hNYXBbaV1bal09MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgLy/ms6jlhozmjInkuIvnm5HlkKxcclxuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX0RPV04sIHRoaXMub25LZXlEb3duLCB0aGlzKTtcclxuICAgICAgIC8vdGhpcy5vbnRvdWNobW92ZSgpO1xyXG4gICAgICAgdGhpcy5zZXRHYW1lKCk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gPSBldmVudC5nZXRMb2NhdGlvbigpOy8vIOiOt+WPluiKgueCueWdkOagh1xyXG4gICAgICAgICAgICB0aGlzLmZpcnN0WCA9IGxvY2F0aW9uLng7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyc3RZID0gbG9jYXRpb24ueTtcclxuICAgICAgICAgICAgLy8g6I635Y+W6Kem54K55Zyo56m66Ze06IqC54K55LiK55qE5Z2Q5qCHXHJcbiAgICAgICAgICAgIC8vIHZhciB0ZW1wUGxheWVyID0gbm9kZS5wYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIobG9jYXRpb24pO1xyXG4gICAgICAgICAgICAvLyBub2RlLnNldFBvc2l0aW9uKHRlbXBQbGF5ZXIpO1xyXG4gICAgICAgIH0sdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICAgICAgICBsZXQgdG91Y2hQb2ludCA9IGV2ZW50LmdldExvY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGxldCBlbmRYID0gdGhpcy5maXJzdFggLSB0b3VjaFBvaW50Lng7XHJcbiAgICAgICAgICAgIGxldCBlbmRZID0gdGhpcy5maXJzdFkgLSB0b3VjaFBvaW50Lnk7XHJcbiAgICAgICAgICAgIC8vIHZhciB0ZW1wUGxheWVyID0gbm9kZS5wYXJlbnQuY29udmVydFRvTm9kZVNwYWNlQVIodG91Y2hQb2ludCk7XHJcbiAgICAgICAgICAgIC8vIG5vZGUuc2V0UG9zaXRpb24odGVtcFBsYXllcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZW5kWCkgPiBNYXRoLmFicyhlbmRZKSl7XHJcbiAgICAgICAgICAgICAgICAvL+aJi+WKv+WQkeW3puWPs1xyXG4gICAgICAgICAgICAgICAgLy/liKTmlq3lkJHlt6bov5jmmK/lkJHlj7MgXHJcbiAgICAgICAgICAgICAgICBpZiAoZW5kWCAgPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAvL+WQkeW3puWHveaVsFxyXG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZygnbGVmdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uIT0zKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb249MjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5ZCR5Y+z5Ye95pWwXHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9nKCdyaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uIT0yKXtcclxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb249MztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL+aJi+WKv+WQkeS4iuS4i1xyXG4gICAgICAgICAgICAgICAgLy/liKTmlq3miYvlir/lkJHkuIrov5jmmK/lkJHkuItcclxuICAgICAgICAgICAgICAgIGlmIChlbmRZICA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5ZCR5LiL5Ye95pWwXHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9nKCdkb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24hPTApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbj0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lkJHkuIrlh73mlbBcclxuICAgICAgICAgICAgICAgICAgICBjYy5sb2coJ3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24hPTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbj0wO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICB9LHRoaXMpO1xyXG5cclxuICAgIH0sXHJcbiAgICAvL1xyXG4gICAgc2V0R2FtZSgpe1xyXG4gICAgICAgIGNjLmxvZyhcInNldEdhbWUgc3RhcnRcIik7XHJcbiAgICAgICAgIC8v5LiL5Liq5p6c5a6e5pa55Z2XXHJcbiAgICAgICAgIHZhciBnb2FsID0gdGhpcy5uZXh0R29hbDtcclxuICAgICAgICAgdGhpcy5idWlsZEJvZHkoZ29hbCk7XHJcbiAgICAgICAgIGNjLmxvZyhcInNldEdhbWUgZW5kXCIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkJlZ2luQ29udGFjdChjb250YWN0LCBzZWxmQ29sbGlkZXIsIG90aGVyQ29sbGlkZXIpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib25CZWdpbkNvbnRhY3RcIik7XHJcbiAgICB9LFxyXG4gICAgXHJcblxyXG4gICAgLy/ojrflj5bpopzoibLlkI7lrp7kvovljJY256eN5Zu+5YOPLOi/mOacieS4gOS4quenjeS9nOS4umhlYWRcclxuICAgIGJ1aWxkQm9keShnb2FsKXtcclxuICAgICAgICBjYy5sb2coXCJnb2FsOlwiK2dvYWwpO1xyXG4gICAgICAgICB0aGlzLnByb2R1Y2VGb290KCk7XHJcbiAgICAgICAgIC8v56e75YqoXHJcbiAgICAgICAgIHRoaXMuc2NoZWR1bGUodGhpcy5tb3ZlLHRoaXMuc3BlZWQpO1xyXG4gICAgICAgICBjYy5sb2coXCJnb2FsMjpcIitnb2FsKTtcclxuXHJcbiAgICB9LFxyXG4gICAgLy/mo4DmtYvmnpzlrp7nlJ/miJDkvY3nva7mmK/lkKbph43lj6DotKrlkIPom4dcclxuICAgIG92ZXJsYXBGb290KCl7XHJcbiAgICAgICAgdGhpcy5nb2FsWCA9IE1hdGguZmxvb3IoMTAqTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgdGhpcy5nb2FsWSA9IE1hdGguZmxvb3IoMTUqTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgLy/liKTmlq3otKrlkIPom4fmiYDmnInpg6jkvY3mmK/lkKbph43lj6BcclxuICAgICAgICBmb3IobGV0IGo9MDtqPHRoaXMuc25ha2VBcnJYLmxlbmd0aDtqKyspe1xyXG4gICAgICAgICAgICBpZih0aGlzLmJveE1hcFt0aGlzLmdvYWxYXVt0aGlzLmdvYWxZXT09PTEpe1xyXG4gICAgICAgICAgICAgICAgLy/ph43mlrDnlJ/miJDvvIzlubbkuJTph43mlrDmo4DmtYtcclxuICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxhcEZvb3QoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZHVjZUZvb3QoKTtcclxuICAgIH0sXHJcbiAgICAvL+eUn+aIkOaenOWunlxyXG4gICAgcHJvZHVjZUZvb3QoKXtcclxuICAgICAgICB0aGlzLm5leHRHb2FsID0gTWF0aC5mbG9vcig3Kk1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIC8v6ZqP5py655Sf5oiQ5p+Q56eN6aKc6ImyXHJcbiAgICAgICAgIGlmKHRoaXMubmV4dEdvYWw9PT0wKXt0aGlzLnByZWZhYj10aGlzLnJlY3QwO31cclxuICAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTEpe3RoaXMucHJlZmFiPXRoaXMucmVjdDE7fVxyXG4gICAgICAgICBpZih0aGlzLm5leHRHb2FsPT09Mil7dGhpcy5wcmVmYWI9dGhpcy5yZWN0Mjt9XHJcbiAgICAgICAgIGlmKHRoaXMubmV4dEdvYWw9PT0zKXt0aGlzLnByZWZhYj10aGlzLnJlY3QzO31cclxuICAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTQpe3RoaXMucHJlZmFiPXRoaXMucmVjdDQ7fVxyXG4gICAgICAgICBpZih0aGlzLm5leHRHb2FsPT09NSl7dGhpcy5wcmVmYWI9dGhpcy5yZWN0NTt9XHJcbiAgICAgICAgIGlmKHRoaXMubmV4dEdvYWw9PT02KXt0aGlzLnByZWZhYj10aGlzLnJlY3Q2O31cclxuICAgICAgICAvL+i0quWQg+ibh+i6q+S9k1xyXG4gICAgICAgICB0aGlzLnNuYWtlQm9keSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFiKS5nZXRDb21wb25lbnQoJ3JlY3QnKTtcclxuICAgICAgICAgdmFyIGJveD1jYy5maW5kKCdDYW52YXMvYm94Jyk7XHJcbiAgICAgICAgIGJveC5hZGRDaGlsZCh0aGlzLnNuYWtlQm9keS5ub2RlKTtcclxuICAgICAgICAgdGhpcy5zbmFrZUJvZHkubm9kZS54PXRoaXMuZ29hbFgqNDg7ICAgICAgIFxyXG4gICAgICAgICB0aGlzLnNuYWtlQm9keS5ub2RlLnk9dGhpcy5nb2FsWSo0ODtcclxuICAgICAgICAgLy/orrDlvZXlnLDlm77ov5nph4zlt7Lnu4/mnInmnpzlrp5cclxuICAgICAgICAgdmFyIGJveE1hcFggPSB0aGlzLnNuYWtlQm9keS5ub2RlLngvNDg7XHJcbiAgICAgICAgIHZhciBib3hNYXBZID0gdGhpcy5zbmFrZUJvZHkubm9kZS55LzQ4O1xyXG4gICAgICAgICB0aGlzLmJveE1hcFtib3hNYXBYXVtib3hNYXBZXT0xO1xyXG4gICAgfSxcclxuICAgIC8v5ZCD5Yiw5p6c5a6eXHJcbiAgICBlYXRGb290KCl7XHJcbiAgICAgICAgIHZhciBib3hNYXBYID0gdGhpcy5zbmFrZUhlYWQubm9kZS54LzQ4O1xyXG4gICAgICAgICB2YXIgYm94TWFwWSA9IHRoaXMuc25ha2VIZWFkLm5vZGUueS80ODtcclxuICAgICAgICAvL+WIpOaWreaYr+WQpuS9jee9ruaYr+WQpuacieaenOWunlxyXG4gICAgICAgIGlmKHRoaXMuYm94TWFwW2JveE1hcFhdW2JveE1hcFldPT09MSl7XHJcbiAgICAgICAgICAgIC8vY2MubG9nKFwi5L2N572u5pyJ5p6c5a6eXCIpO1xyXG4gICAgICAgICAgICAvL+WKoOWcqOWwvumDqFxyXG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5zbmFrZUFyclgubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLnNuYWtlQXJyWFtsZW5dPXRoaXMuc25ha2VCb2R5Lm5vZGUueDtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZUFycllbbGVuXT10aGlzLnNuYWtlQm9keS5ub2RlLnk7XHJcbiAgICAgICAgICAgIHRoaXMuc25ha2VBcnJbbGVuXT10aGlzLnNuYWtlQm9keTtcclxuICAgICAgICAgICAgLy/mnpzlrp7ooqvlkIPkuoYgXHJcbiAgICAgICAgICAgIHRoaXMuYm94TWFwW2JveE1hcFhdW2JveE1hcFldPTA7XHJcbiAgICAgICAgICAgIC8v5Yqg5YiG5pWwXHJcbiAgICAgICAgICAgIHRoaXMuYWRkU2NvcmUoKTtcclxuICAgICAgICAgICAgLy/pmo/mnLrnlJ/miJDkuIvkuIDkuKrmnpzlrp5cclxuICAgICAgICAgICAgdGhpcy5vdmVybGFwRm9vdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+WKoOWIhuaVsFxyXG4gICAgYWRkU2NvcmUoKXtcclxuICAgICAgICAvL+agueaNruS4jeWQjOaenOWunuWinuWKoOWIhuaVsFxyXG4gICAgICAgIGlmKHRoaXMubmV4dEdvYWw9PT0wKXt0aGlzLnNjb3JlTnVtKz01MDt9XHJcbiAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTEpe3RoaXMuc2NvcmVOdW0rPTEwMDt9XHJcbiAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTIpe3RoaXMuc2NvcmVOdW0rPTIwMDt9XHJcbiAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTMpe3RoaXMuc2NvcmVOdW0rPTMwMDt9XHJcbiAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTQpe3RoaXMuc2NvcmVOdW0rPTQwMDt9XHJcbiAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTUpe3RoaXMuc2NvcmVOdW0rPTUwMDt9XHJcbiAgICAgICAgaWYodGhpcy5uZXh0R29hbD09PTYpe3RoaXMuc2NvcmVOdW0rPTYwMDt9XHJcbiAgICAgICAgdGhpcy5zY29yZS5zdHJpbmc9dGhpcy5zY29yZU51bTtcclxuICAgIH0sXHJcbiAgICAvL+enu+WKqOaWueazlVxyXG4gICAgbW92ZSAoKXtcclxuICAgICAgICAvL+aWueWQkSx1cC0wLGRvd24tMSxsZWZ0LTIscmlnaHQtM1xyXG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uPT09MCl7XHJcbiAgICAgICAgICAgIC8v56e75Yqo5YmN77yM5Yik5pat5ri45oiP5piv5ZCm57uT5p2fXHJcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lT3Zlcih0aGlzLnNuYWtlSGVhZC5ub2RlLngsdGhpcy5zbmFrZUhlYWQubm9kZS55KzQ4KTtcclxuICAgICAgICAgICAgaWYodGhpcy5nYW1lU3RhdGU9PT0xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25ha2VIZWFkLm5vZGUueSs9NDg7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY2MubG9nKFwidXBcIik7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5kaXJlY3Rpb249PT0xKXtcclxuICAgICAgICAgICAgLy/np7vliqjliY3vvIzliKTmlq3muLjmiI/mmK/lkKbnu5PmnZ9cclxuICAgICAgICAgICAgdGhpcy5pc0dhbWVPdmVyKHRoaXMuc25ha2VIZWFkLm5vZGUueCx0aGlzLnNuYWtlSGVhZC5ub2RlLnktNDgpO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodGhpcy5nYW1lU3RhdGU9PT0xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25ha2VIZWFkLm5vZGUueS09NDg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAvLyBjYy5sb2coXCJkb3duXCIpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuZGlyZWN0aW9uPT09Mil7XHJcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lT3Zlcih0aGlzLnNuYWtlSGVhZC5ub2RlLngtNDgsdGhpcy5zbmFrZUhlYWQubm9kZS55KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMuZ2FtZVN0YXRlPT09MSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlSGVhZC5ub2RlLngtPTQ4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY2MubG9nKFwibGVmdFwiKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLmRpcmVjdGlvbj09PTMpe1xyXG4gICAgICAgICAgICAvL+enu+WKqOWJje+8jOWIpOaWrea4uOaIj+aYr+WQpue7k+adn1xyXG4gICAgICAgICAgICB0aGlzLmlzR2FtZU92ZXIodGhpcy5zbmFrZUhlYWQubm9kZS54KzQ4LHRoaXMuc25ha2VIZWFkLm5vZGUueSk7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodGhpcy5nYW1lU3RhdGU9PT0xKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25ha2VIZWFkLm5vZGUueCs9NDg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jYy5sb2coXCJyaWdodFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5nYW1lU3RhdGU9PT0xKXtcclxuICAgICAgICAgICAgdGhpcy5lYXRGb290KCk7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUFsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+enu+WKqOeahOaXtuWAme+8jOi6q+S9k+S5n+WQkeWktOenu+WKqFxyXG4gICAgbW92ZUFsbCgpe1xyXG4gICAgICAgIGZvcihsZXQgaT10aGlzLnNuYWtlQXJyWC5sZW5ndGgtMTtpPjA7aS0tKXtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZUFyclhbaV09dGhpcy5zbmFrZUFyclhbaS0xXTtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZUFycllbaV09dGhpcy5zbmFrZUFycllbaS0xXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy/mm7TmlrDotKrlkIPom4flpLTpg6jkvY3nva4s6LSq5ZCD6JuH6ZqP5aS06YOo56e75YqoXHJcbiAgICAgICAgdGhpcy5zbmFrZUFyclhbMF09dGhpcy5zbmFrZUhlYWQubm9kZS54O1xyXG4gICAgICAgIHRoaXMuc25ha2VBcnJZWzBdPXRoaXMuc25ha2VIZWFkLm5vZGUueTtcclxuICAgICAgICBmb3IobGV0IGo9MTtqPHRoaXMuc25ha2VBcnJYLmxlbmd0aDtqKyspe1xyXG4gICAgICAgICAgICB0aGlzLnNuYWtlQXJyW2pdLm5vZGUueD10aGlzLnNuYWtlQXJyWFtqXTtcclxuICAgICAgICAgICAgdGhpcy5zbmFrZUFycltqXS5ub2RlLnk9dGhpcy5zbmFrZUFycllbal07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2MubG9nKFwibW92ZUFsbFwiK3RoaXMuc25ha2VBcnJYLmxlbmd0aCk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ29sbGlzaW9uRW50ZXIob3RoZXIsIHNlbGYpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIueisOaSniAgPVwiICsgb3RoZXIpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+mUruebmOebkeWQrFxyXG4gICAgb25LZXlEb3duIChldmVudCkge1xyXG4gICAgICAgICAgICBzd2l0Y2goZXZlbnQua2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBjYy5tYWNyby5LRVkuYTpcclxuICAgICAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICAgICAvLyBjYy5sb2coXCJrZXkgY29kZSBpcyAgYSBhbmQgbGVmdFwiKTtcclxuICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uIT0zKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb249MjtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5yaWdodDpcclxuICAgICAgICAgICAgICAgICAgLy8gY2MubG9nKFwia2V5IGNvZGUgaXMgIGQgYW5kIHJpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgaWYodGhpcy5kaXJlY3Rpb24hPTIpe1xyXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbj0zO1xyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBjYy5tYWNyby5LRVkudzpcclxuICAgICAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLnVwOlxyXG4gICAgICAgICAgICAgICAgICAgLy8gY2MubG9nKFwia2V5IGNvZGUgaXMgIHcgYW5kIHVwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uIT0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb249MDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGNjLm1hY3JvLktFWS5zOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBjYy5tYWNyby5LRVkuZG93bjpcclxuICAgICAgICAgICAgICAgICAgIC8vIGNjLmxvZyhcImtleSBjb2RlIGlzICBzIGFuZCBkb3duXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uIT0wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb249MTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+WIpOaWrea4uOaIj+e7k+adn+eahOadoeS7tlxyXG4gICAgaXNHYW1lT3Zlcih4LHkpe1xyXG4gICAgICAgICAvL+WIpOaWreaYr+WQpui2heWHuuWcsOWbvlxyXG4gICAgICAgIGlmKHg8MCB8fCB4Pj00ODAgfHwgeTwwIHx8IHk+PTcyMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8v5Yik5pat5piv5ZCm56Kw5pKe5Yiw6LSq5ZCD6JuH6Lqr5L2TXHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnNuYWtlQXJyWC5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgaWYodGhpcy5zbmFrZUFyclhbaV09PXggJiYgdGhpcy5zbmFrZUFycllbaV09PXkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v5ri45oiP57uT5p2fXHJcbiAgICBnYW1lT3ZlciAoKXtcclxuICAgICAgICAgICAgY2MubG9nKFwi57uT5p2fXCIpO1xyXG4gICAgICAgICAgICAvL+a4uOaIj+eKtuaAgVxyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IDI7XHJcbiAgICAgICAgICAgIC8v5bCG5aSx6LSl55qE55S76Z2i5pi+56S65Ye65p2lXHJcbiAgICAgICAgICAgIHRoaXMub3Zlci5hY3RpdmU9dHJ1ZTtcclxuICAgICAgICAgICAgLy/lgZzmraLnp7vliqhcclxuICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMubW92ZSk7XHJcbiAgICAgICAgICAgIC8v5YGc5q2i5omA5pyJ6Z+z5LmQXHJcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BBbGwoKTtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICAvL+aaguWBnOa4uOaIj1xyXG4gICAgcGF1c2UoKXtcclxuICAgICAgICAvLzLooajnpLrmuLjmiI/nu5PmnZ9cclxuICAgICAgICBpZih0aGlzLmdhbWVTdGF0ZSE9PTIpe1xyXG4gICAgICAgICAgICBpZih0aGlzLmdhbWVTdGF0ZT09PTEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGU9MDtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uLnN0cmluZyA9IFwiUGxheVwiO1xyXG4gICAgICAgICAgICAgICAgLy/lgZzmraLnp7vliqhcclxuICAgICAgICAgICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLm1vdmUpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmdhbWVTdGF0ZT09PTApe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lU3RhdGU9MTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uLnN0cmluZyA9IFwiUGF1c2VcIjtcclxuICAgICAgICAgICAgICAgIC8v5YGc5q2i56e75YqoXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHRoaXMubW92ZSx0aGlzLnNwZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL+mHjeaWsOW8gOWni+a4uOaIj1xyXG4gICAgcmVwbGF5KCl7XHJcbiAgICAgICAgIC8v6YeN5paw5Yqg6L295ri45oiP5Zy65pmvXHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwic25ha2VyXCIpO1xyXG4gICAgfSxcclxufSk7XHJcblxyXG4iXX0=
//------QC-SOURCE-SPLIT------
