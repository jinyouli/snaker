{"version":3,"sources":["assets\\sprite\\rect.js"],"names":["cc","Class","Component","properties","start","manager","director","getCollisionManager","enabled","enabledDebugDraw","_game","find","getComponent","onBeginContact","contact","selfCollider","otherCollider","log","onCollisionEnter","other","self","direction","node","x","y","gameOver"],"mappings":";;;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAOL;AAEAC,EAAAA,KATK,mBASI;AACL,QAAIC,OAAO,GAAGL,EAAE,CAACM,QAAH,CAAYC,mBAAZ,EAAd;AACAF,IAAAA,OAAO,CAACG,OAAR,GAAkB,IAAlB,CAFK,CAEuB;;AAC5BH,IAAAA,OAAO,CAACI,gBAAR,GAA2B,IAA3B,CAHK,CAG8B;;AAEnC,SAAKC,KAAL,GAAaV,EAAE,CAACW,IAAH,CAAQ,aAAR,EAAuBC,YAAvB,CAAoC,OAApC,CAAb;AACH,GAfI;AAiBLC,EAAAA,cAjBK,0BAiBUC,OAjBV,EAiBmBC,YAjBnB,EAiBiCC,aAjBjC,EAiB+C;AAChDhB,IAAAA,EAAE,CAACiB,GAAH,CAAO,gBAAP;AACH,GAnBI;AAqBLC,EAAAA,gBArBK,4BAqBYC,KArBZ,EAqBmBC,IArBnB,EAqByB;AAC1B;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAG,KAAKV,KAAL,CAAWW,SAAX,KAAuB,CAA1B,EAA4B;AAExB,UAAG,KAAKC,IAAL,CAAUC,CAAV,IAAeJ,KAAK,CAACG,IAAN,CAAWC,CAA1B,IAA+B,KAAKD,IAAL,CAAUE,CAAV,IAAeL,KAAK,CAACG,IAAN,CAAWE,CAAX,GAAe,EAAhE,EAAmE;AAC/D,aAAKd,KAAL,CAAWe,QAAX;AACH,OAJuB,CAMxB;;AACH,KAPD,MAOM,IAAG,KAAKf,KAAL,CAAWW,SAAX,KAAuB,CAA1B,EAA4B;AAE9B,UAAG,KAAKC,IAAL,CAAUC,CAAV,IAAeJ,KAAK,CAACG,IAAN,CAAWC,CAA1B,IAA+B,KAAKD,IAAL,CAAUE,CAAV,IAAeL,KAAK,CAACG,IAAN,CAAWE,CAAX,GAAe,EAAhE,EAAmE;AAC/D,aAAKd,KAAL,CAAWe,QAAX;AACH,OAJ6B,CAK/B;;AACF,KANK,MAMA,IAAG,KAAKf,KAAL,CAAWW,SAAX,KAAuB,CAA1B,EAA4B;AAE9B,UAAG,KAAKC,IAAL,CAAUC,CAAV,IAAeJ,KAAK,CAACG,IAAN,CAAWC,CAAX,GAAc,EAA7B,IAAmC,KAAKD,IAAL,CAAUE,CAAV,IAAeL,KAAK,CAACG,IAAN,CAAWE,CAAhE,EAAkE;AAC9D,aAAKd,KAAL,CAAWe,QAAX;AACH,OAJ6B,CAK9B;;AACH,KANK,MAMA,IAAG,KAAKf,KAAL,CAAWW,SAAX,KAAuB,CAA1B,EAA4B;AAC9B,UAAG,KAAKC,IAAL,CAAUC,CAAV,IAAeJ,KAAK,CAACG,IAAN,CAAWC,CAAX,GAAe,EAA9B,IAAoC,KAAKD,IAAL,CAAUE,CAAV,IAAeL,KAAK,CAACG,IAAN,CAAWE,CAAjE,EAAmE;AAC/D,aAAKd,KAAL,CAAWe,QAAX;AACH,OAH6B,CAI9B;;AACH;AACJ,GA7DI,CA+DL;;AA/DK,CAAT","sourceRoot":"/","sourcesContent":["\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       \r\n    },\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        let manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;     //开启碰撞检测\r\n        manager.enabledDebugDraw = true;   //显示碰撞检测区域\r\n\r\n        this._game = cc.find(\"/Canvas/box\").getComponent(\"build\");\r\n    },\r\n\r\n    onBeginContact(contact, selfCollider, otherCollider){\r\n        cc.log(\"onBeginContact\");\r\n    },\r\n\r\n    onCollisionEnter(other, self) {\r\n        // cc.log(\"碰撞x  =\" + this.node.x + \" x=\" + other.node.x);\r\n        // cc.log(\"碰撞y  =\" + this.node.y + \" x=\" + other.node.y);\r\n\r\n        // cc.log(\"方向 =\" + this._game.direction);\r\n        \r\n        // this._game.gameOver();\r\n\r\n        // if(Math.abs(this.node.x - other.node.x)==48 && Math.abs(this.node.y - other.node.y)==48){\r\n        //     this._game.gameOver();\r\n        // }\r\n        // else if(Math.abs(this.node.x - other.node.x)==0 && Math.abs(this.node.y - other.node.y)==48){\r\n        //     this._game.gameOver();\r\n        // }\r\n\r\n        if(this._game.direction===0){\r\n\r\n            if(this.node.x == other.node.x && this.node.y == other.node.y + 48){\r\n                this._game.gameOver();\r\n            }\r\n\r\n            //cc.log(\"up\");\r\n        }else if(this._game.direction===1){\r\n\r\n            if(this.node.x == other.node.x && this.node.y == other.node.y - 48){\r\n                this._game.gameOver();\r\n            }\r\n           // cc.log(\"down\");\r\n        }else if(this._game.direction===2){\r\n\r\n            if(this.node.x == other.node.x -48 && this.node.y == other.node.y){\r\n                this._game.gameOver();\r\n            }\r\n            //cc.log(\"left\");\r\n        }else if(this._game.direction===3){\r\n            if(this.node.x == other.node.x + 48 && this.node.y == other.node.y){\r\n                this._game.gameOver();\r\n            }\r\n            //cc.log(\"right\");\r\n        }\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}